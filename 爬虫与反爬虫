
https://zhuanlan.zhihu.com/p/20520370

https://segmentfault.com/a/1190000005840672

https://cloud.tencent.com/developer/article/1032918

https://segmentfault.com/a/1190000005840672

http://www.zving.com/c/2017-11-15/269861.shtml

http://monburan.cn/crawler/2017/04/02/Reflections-About-A-New-Way-To-Anti-Crawler-And-Crawler.html

1. 对 Referer 和 User-Agent 进行检查

ZCMS 将检查 http 头中的 Referer 和 User-Agent 项，对于无 Referer、不符合规则的 Referer、不符合规则的 User-Agent 重定向到验证码输入页面，只有输入正确的验证码才可以进行后续浏览。

2. 基于 IP 地址的访问限制

ZCMS 支持基于 IP 地址的访问限制策略，默认同一个 IP 地址每秒打开页面数超过 3 个即会重定向到一个验证码输入页面，只有输入正确的验证码才可以进行后续浏览。

3. 基于 Cookie 的访问限制

ZCMS 支持基于 Cookie 的访问限制策略，会在每天第一次访问时向浏览器写入特定 Cookie，以后每一次访问都要求携带有特定 Cookie，未携带特定 Cookie 或者同一个 IP 地址频繁变化 Cookie 都将重定向到验证码输入界面。

4. 内容 Javascript 混淆

ZCMS 支持对列表页和内容详细页进行 Javascript 混淆，将列表页和内容详细页中的内容由普通的 HTML 代码自动混淆成 Javascript 代码，正常用户浏览时 Javascript 代码会得到执行并渲染成正常的 HTML 内容，但大部分爬虫不能正确执行这些 Javascript 代码。

5. 基于隐藏链接的行为识别

ZCMS 支持在列表页和内容详细页放入隐藏链接和颜色透明链接，这些链接的形式和正常的 URL 非常相似，正常浏览者不会去点击这些链接，但绝大部分爬虫会解析这些链接并尝试抓取，从而被 ZCMS 识别为爬虫。

6. 基于 URL 规则的行为识别

ZCMS 支持基于 URL 规则的行为识别，正常浏览行为在访问网站时除了详细页以外，还会下载大量的图片、JS 文件、CSS 文件等资源文件，而爬虫不会去下载这些资源文件。ZCMS 通过随机改变部分资源的最后修改时间诱导浏览器下载这些资源文件，而没有去下载的则会被识别为爬虫。

7. 基于时间分布的行为识别

人对单个网站的正常浏览行为在时间分布上会有一定规律，通常会在集中的几个时段内访问。如果检测到某个 IP 或者特定 Cookie 在时间上的分布比较均匀且时间跨度很大（例如一天超过 18 小时都有访问记录），则会被识别为爬虫。

8. 伪数据

ZCMS 对于识别测出的爬虫行为，将不重定向验证码也返回错误信息，而是采用自动生成伪数据的方式向爬虫返回正常的 200 状态响应结果，以提高爬虫数据分析的难度。


