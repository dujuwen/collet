1.在linux服务器上配置ssh授权
https://www.digitalocean.com/community/tutorials/how-to-configure-ssh-key-based-authentication-on-a-linux-server

公钥加密的消息只有对应的私钥才能解密

首先使用ssh-keygen目录生成ssh key对，注意如果之前的文件存在并且覆盖写的话之前的授权都不能使用了，这个覆盖过程是不可逆的

公钥被存在服务器上的~/.ssh/authorized_keys文件中

获取本地公钥：cat ~/.ssh/id_rsa.pub

将本地公钥上传到服务器的方法
方法一，使用ssh-copy-id工具(推荐)：
ssh-copy-id username@remote_host

方法二：
cat ~/.ssh/id_rsa.pub | ssh username@remote_host "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"

方法三，手动拷贝：
cat ~/.ssh/id_rsa.pub
mkdir -p ~/.ssh
echo public_key_string >> ~/.ssh/authorized_keys

注意服务器上authorized_keys的默认权限是0600:
root@bbs-dev .ssh $ l
total 16
-rw------- 1 root root  405 Mar 12 14:21 authorized_keys
-rw------- 1 root root 1675 Mar  9 15:57 id_rsa
-rw-r--r-- 1 root root  398 Mar  9 15:57 id_rsa.pub
-rwxrwxrwx 1 root root 1958 Mar  9 15:59 known_hosts

在配置好基于ssh登录服务器的方法后最后一步是关闭密码登录:
sudo vim /etc/ssh/sshd_config
PasswordAuthentication no

On Ubuntu or Debian machines, you can issue this command:
sudo service ssh restart

On CentOS/Fedora machines, the daemon is called sshd:
sudo service sshd restart

如果在配置ssh免密登录之后还是有问题的话就查看安全日志文件，它会告诉你为什么，一般情况下是/root目录权限 .ssh目录权限 或者 authorized_keys文件权限
tail -f /var/log/secure

一般/root 是0550
.ssh 是 0700
authorized_keys 是 0600

2.ssh基于key的授权是如何工作的？
https://www.digitalocean.com/community/tutorials/how-to-use-ssh-to-connect-to-a-remote-server-in-ubuntu

公钥存在服务器上，私钥存在客户机上。当使用键对连接两台机器的时候，服务器会发送一个用公钥加密的信息到客户机上，客户机收到后将解密后的信息反馈给
服务器，由服务器判断客户端是否合法。

How Does Key-based Authentication Work?
Key-based authentication works by creating a pair of keys: a private key and a public key.

The private key is located on the client machine and is secured and kept secret.
The public key can be given to anyone or placed on any server you wish to access.

When you attempt to connect using a key-pair, the server will use the public key to create a message for the client computer
that can only be read with the private key.

The client computer then sends the appropriate response back to the server and the server will know that the client is legitimate.

3.
